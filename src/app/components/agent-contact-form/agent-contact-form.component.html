<div class="flex-container">
    <div class="main">
        <p class="header">{{ header }}</p>
        <img
            *ngIf="image_url"
            src="http://localhost:1337{{ image_url }}"
            alt=""
        />
        <p *ngIf="caption" class="header2">{{ caption }}</p>
        <p *ngIf="!isAuthenticated">
            {{ paragraph }}
        </p>

        <div class="container" *ngIf="!isAuthenticated">
            <div *ngIf="error" class="errorMessage">{{ error }}</div>

            <form #registerForm="ngForm" (ngSubmit)="onRegister(registerForm)">
                <div class="form-group">
                    <label for="username">Username</label>
                    <input
                        type="text"
                        id="username"
                        name="username"
                        ngModel
                        required
                    />
                </div>
                <div class="form-group">
                    <label for="email">Email</label>
                    <input
                        type="text"
                        id="email"
                        name="email"
                        ngModel
                        required
                        email
                    />
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input
                        type="password"
                        id="password"
                        name="password"
                        ngModel
                        required
                    />
                </div>
                <div>
                    <button type="submit" [disabled]="!registerForm.valid">
                        Contact Agent
                    </button>
                </div>
            </form>
        </div>

        <div class="container" *ngIf="isAuthenticated">
            <form #contactForm="ngForm" (ngSubmit)="onContactAgent()">
                <div class="form-group">
                    <label for="email">Email *</label>
                    <input
                        type="text"
                        id="email"
                        name="email"
                        placeholder="Enter Email"
                        [(ngModel)]="user.email"
                        required
                        email
                    />
                </div>
                <div class="form-group">
                    <label for="username">Phone *</label>
                    <input
                        type="text"
                        id="username"
                        name="username"
                        placeholder="Enter Phone Number"
                        ngModel
                        required
                    />
                </div>
                <div class="form-group">
                    <label for="message">Message</label>
                    <textarea
                        id="message"
                        name="message"
                        placeholder="Any questions or comments?"
                        ngModel
                        style="height: 80px"
                    ></textarea>
                </div>
                <button #contactBtn [disabled]="!contactForm.valid">
                    Contact Agent
                </button>
            </form>

            <p style="font-size: 0.6rem">
                Yes, I would like more information from Real Homes. Please use
                and/or share my information with a Real Homes agent to contact
                me about my real estate needs. <br />By clicking Contact Agent,
                I agree a Real Home Agent may contact me by phone or text
                message including by automated means about real estate services,
                and that I can access real estate services without providing my
                phone number. I acknowledge that I have read and agree to the
                Terms of Use and Privacy Policy.
            </p>
            <div class="message" *ngIf="isSubmitted">
                Thank you! Our agent will get in touch soon.
            </div>
        </div>
    </div>
</div>
